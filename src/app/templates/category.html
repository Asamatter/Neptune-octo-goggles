{% extends 'base.html' %}

{% load static %}
{% load custom_tags %}
{% block content %}
  <div class="sticky top-12 py-2 rounded inset-0 bg-gradient-to-r from-amber-500 via-amber-600 to-amber-700 backdrop-blur-lg z-20 text-waikawa-gray-200 font-semibold">
    <div class="flex justify-between items-center mb-1 mx-2">
      <div class="flex items-center font-semibold mt-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5" />
        </svg>
        
      
      <span>{{ tag_title }}</span> 
    </div>
      <span>{{ count }} Posts</span>
    </div>

    <div class="flex justify-between items-center">
      {% for tag in tags %}
        {% if tag.text == tag_title %}
          <small class="ml-1">{{ tag.tag_contributors }} Users</small>
        {% endif %}
      {% endfor %}

      {% for tag, count in tag_view_counts.items %}
        {% if tag == tag_title %}
          <p class="mx-2">{{ count }} Views</p>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <div id="post-template" class="mt-4">
    {% for post in post_tags %}
      {% include 'includes/posts.html' %} 
      {% include 'includes/voting.html' %} 
      {% empty %}
      <p>No posts found for this category.</p>
    {% endfor %}
  </div>
{% endblock %}
